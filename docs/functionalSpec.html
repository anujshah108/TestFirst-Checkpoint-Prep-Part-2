<!DOCTYPE html>

<html>
<head>
  <title>functionalSpec.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>functionalSpec.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre>describe(<span class="hljs-string">"countWords"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  it(<span class="hljs-string">"counts words in a sentence separated by empty space"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    expect(countWords(<span class="hljs-string">"this is a sentence with 7 words"</span>)).toEqual(<span class="hljs-number">7</span>);
  });
});</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>functions that iterate over collections and perform some function</p>

            </div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>map takes an array, performs a function on each element
and returns and array with the result of that function</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>describe(<span class="hljs-string">"map"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{

  it(<span class="hljs-string">'first, create a function that takes an element and returns double of it'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
    expect(doubler(<span class="hljs-number">15</span>)).toEqual(<span class="hljs-number">30</span>);
  });</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Now let’s use the <code>doubler</code> function and apply it over an
entire array using the map object</p>
<p>Observe here how we’re not actually iterating, we’re writng a function that handles
the looping so we can focus on higher-level code semantics</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  it(<span class="hljs-string">"takes our doubling function and applies it to an array"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>the map function takes as a first element the array
The second element is a function
Then, internally it has to create a new array, run the function for each element and
place it into the new array</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    expect(map([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], doubler)).toEqual([<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>]);
  });

  it(<span class="hljs-string">"takes a tripling function"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Here we create an anonymous function that triples, as long as we pass a function value
map should work as we expect</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    expect(map([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(elem)</span> </span>{
      <span class="hljs-keyword">return</span> elem * <span class="hljs-number">3</span>;
    })).toEqual([<span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>]);
  });
});</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>filter takes an array (we can also call this a collection) and a function and filters the collection using that function
based on the boolean return value of the function.  If the function it’s passed returns true, it will keep the value, otherwise
remove it from the array</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>describe(<span class="hljs-string">"filter"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p><code>even_filter</code> returns true if a number is even</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">var</span> even_filter = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element)</span> </span>{
    <span class="hljs-keyword">if</span> (element % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>)
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">else</span>
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  };

  it(<span class="hljs-string">"filters an array based on evens"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    expect(filter([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>], even_filter)).toEqual([<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>]);
  });

  it(<span class="hljs-string">"filters an array based on odds"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">var</span> odd_filter = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element)</span> </span>{
      <span class="hljs-keyword">return</span> !even_filter(element);
    };
    expect(filter([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>], odd_filter)).toEqual([<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>]);
  });
});</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>contains checks if a collection has an element that matches the second parameter’s value</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>describe(<span class="hljs-string">"contains"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  it(<span class="hljs-string">"should return true if a collection contains a user-specified value"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    expect(contains([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-number">2</span>)).toEqual(<span class="hljs-literal">true</span>);
    expect(contains({
      moe: <span class="hljs-number">1</span>,
      larry: <span class="hljs-number">3</span>,
      curly: <span class="hljs-number">9</span>
    }, <span class="hljs-number">3</span>)).toEqual(<span class="hljs-literal">true</span>);
  });

  it(<span class="hljs-string">"should return false if a collection does not contain a user-specified value"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    expect(contains([<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>], <span class="hljs-number">2</span>)).toEqual(<span class="hljs-literal">false</span>);
  });
});</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p><code>reduce</code> is the opposite of <code>map</code>.  It takes a collection and combines the values in the
collection into a single value by defining a combination function.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>describe(<span class="hljs-string">"reduce takes an array, starting point, and combining function and"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  it(<span class="hljs-string">"sums up the array"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">var</span> add = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(a, b)</span> </span>{
      <span class="hljs-keyword">return</span> a + b;
    };
    expect(reduce([<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>], <span class="hljs-number">0</span>, add)).toEqual(<span class="hljs-number">15</span>);
  });

  it(<span class="hljs-string">"counts the number of words in an array of strings"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    word_array = [<span class="hljs-string">"hello there this is line 1"</span>, <span class="hljs-string">"and this is line 2"</span>];
    expect(reduce(word_array, <span class="hljs-number">0</span>, countWordsInReduce)).toEqual(<span class="hljs-number">11</span>);
  });
});</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>Use reduce inside a sum function that takes an array of integers</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>describe(<span class="hljs-string">"sums an array using reduce"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  it(<span class="hljs-string">"adds up an array and reduce is called"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    spyOn(<span class="hljs-built_in">window</span>, <span class="hljs-string">'reduce'</span>).andCallThrough();
    expect(sum([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])).toEqual(<span class="hljs-number">6</span>);
    expect(reduce).toHaveBeenCalled();
  });
});


describe(<span class="hljs-string">"every"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">var</span> isEven = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(num)</span> </span>{
    <span class="hljs-keyword">return</span> num % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>;
  };

  it(<span class="hljs-string">"should handle an empty set"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    expect(every([], getValue)).toEqual(<span class="hljs-literal">true</span>);
  });

  it(<span class="hljs-string">"should handle a set that contains only true values"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    expect(every([<span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>])).toEqual(<span class="hljs-literal">true</span>);
  });

  it(<span class="hljs-string">"should handle a set that contains one false value"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    expect(every([<span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>])).toEqual(<span class="hljs-literal">false</span>);
  });

  it(<span class="hljs-string">"should handle a set that contains even numbers"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    expect(every([<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, <span class="hljs-number">28</span>], isEven)).toEqual(<span class="hljs-literal">true</span>);
  });

  it(<span class="hljs-string">"should handle a set that contains an odd number"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    expect(every([<span class="hljs-number">0</span>, <span class="hljs-number">11</span>, <span class="hljs-number">28</span>], isEven)).toEqual(<span class="hljs-literal">false</span>);
  });
});

describe(<span class="hljs-string">"any"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">var</span> isEven = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(number)</span> </span>{
    <span class="hljs-keyword">return</span> number % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>;
  };

  it(<span class="hljs-string">"should handle the empty set"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    expect(any([])).toEqual(<span class="hljs-literal">false</span>);
  });

  it(<span class="hljs-string">"should handle a set containing 'false' values"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    expect(any([<span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>])).toEqual(<span class="hljs-literal">false</span>);
  });

  it(<span class="hljs-string">"should handle a set containing one 'true' value"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    expect(any([<span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>])).toEqual(<span class="hljs-literal">true</span>);
  });

  it(<span class="hljs-string">"should handle a set that contains all odd numbers"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    expect(any([<span class="hljs-number">1</span>, <span class="hljs-number">11</span>, <span class="hljs-number">29</span>], isEven)).toEqual(<span class="hljs-literal">false</span>);
  });

  it(<span class="hljs-string">"should handle a set that contains an even number"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    expect(any([<span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">29</span>], isEven)).toEqual(<span class="hljs-literal">true</span>);
  });

});</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
